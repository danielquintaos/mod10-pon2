
This project is a todo management system that includes a FastAPI-based RESTful API and a Flutter mobile app. The FastAPI app provides CRUD operations for managing to-do items. The API can be run via Docker and is documented with Swagger UI.

## Folder Structure
```
mod10-pon2/
│
├── api/
│   ├── __init__.py        # Initialize the FastAPI application
│   ├── main.py            # Main application file where FastAPI app is defined
│   └── routes/            # Directory for routes (todo_router.py)
│       └── todo_router.py # Routes for managing to-dos
│
├── tests/
│   └── test_api.py        # Test scripts for the API with FastAPI
│
├── docs/
│   ├── openapi.yaml       # OpenAPI spec automatically generated by FastAPI
│   └── insomnia.json      # Updated Insomnia collection for API testing
│
├── mobile_app/            # Flutter application for managing to-dos
│   ├── lib/
│   ├── test/
│   └── pubspec.yaml
│
├── static/
│   └── swagger/           # Contains Swagger UI files
│
├── templates/
│   └── swagger.html       # HTML file to serve Swagger UI, if manually setup
│
├── Dockerfile
├── docker-compose.yml
│
├── requirements.txt       # Dependencies for the FastAPI application
├── shell.nix              # Nix shell for managing dependencies in NixOS
└── README.md              # This documentation file
```

## Prerequisites
- **Python 3.8+** (if not using Docker)
- **Docker** and **Docker Compose** (for containerized execution)
- **Nix** (for NixOS)

## Setup Instructions
### 1. NixOS Setup
If you're on NixOS, run:
```bash
nix-shell
```
This will create a virtual environment with all the required dependencies based on `shell.nix`.

### 2. Installing Python Dependencies
If you prefer not to use Docker or NixOS, install the dependencies manually:
```bash
pip install -r requirements.txt
```

### 3. Running the FastAPI Server
To start the FastAPI server locally:
```bash
uvicorn api.main:app --host 0.0.0.0 --port 5000 --reload
```
This will run the server on [http://localhost:5000](http://localhost:5000).

### 4. Running with Docker
1. Build the Docker image:
```bash
docker-compose build
```

2. Start the Docker containers:
```bash
docker-compose up
```

3. Access the API at [http://localhost:5000](http://localhost:5000).

### 5. Accessing Swagger UI
The API documentation will be available at [http://localhost:5000/docs](http://localhost:5000/docs) or via the custom `swagger.html` page at [http://localhost:5000/static/swagger/index.html](http://localhost:5000/static/swagger/index.html).

### 6. Testing the API
To test the API:
- Import `docs/insomnia.json` into Insomnia or your preferred API client to run predefined requests.
- Alternatively, you can run the unit tests via `unittest`:
```bash
python -m unittest discover -s tests
```

### 7. Mobile App
Navigate to the `mobile_app` directory and follow the instructions in the Flutter app's `README.md` to set up and run the mobile client.